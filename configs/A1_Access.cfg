enable
configure terminal
hostname A1
no ip routing
!
vlan 10,20
!
spanning-tree mode mst
spanning-tree extend system-id
spanning-tree mst configuration
 name LAB-COMPLEX
 revision 1
 instance 1 vlan 10, 20
 instance 2 vlan 30, 40
exit
!
ip dhcp snooping
ip dhcp snooping vlan 10,20
no ip dhcp snooping information option
ip arp inspection vlan 10,20
!
interface range GigabitEthernet0/0-1
 description Uplinks_to_Distribution
 switchport trunk encapsulation dot1q
 switchport mode trunk
!
 ip dhcp snooping trust
 ip arp inspection trust
 no shutdown
!
interface GigabitEthernet0/2
 description Alpine-0_VLAN10
 switchport mode access
 switchport access vlan 10
!
 spanning-tree portfast edge
 spanning-tree bpduguard enable
!
 ip dhcp snooping limit rate 10
!
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 no shutdown
!
interface GigabitEthernet0/3
 description Alpine-1_VLAN20
 switchport mode access
 switchport access vlan 20
 spanning-tree portfast edge
 spanning-tree bpduguard enable
 ip dhcp snooping limit rate 10
 switchport port-security
 switchport port-security maximum 1
 switchport port-security mac-address sticky
 switchport port-security violation restrict
 no shutdown
!
end
write